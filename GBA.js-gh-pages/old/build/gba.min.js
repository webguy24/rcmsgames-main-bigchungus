(function(){function H(){B=-1;u&&($("endloop").disabled=!0)}function L(a){a<b[15]&&a>b[15]-20&&B++;u&&($("endloop").disabled=!1)}function e(a,b,h){return Math.floor(a/Math.pow(2,b))&Math.pow(2,(h||b)-b+1)-1}function Q(a){b[a[0]]=a[1];b[15]+=4}function R(){}function S(){}function T(a){w(b[a[1]]+a[2],4,b[a[0]]);b[15]+=4}function U(){}function V(a){l[0]=b[a[0]]&a[1];b[15]+=4}function W(a){b[a[0]]=a[1];b[15]+=4}function X(a){b[a[0]]=a[1];b[15]+=4}function Y(){}function Z(){}function aa(a){b[15]=a[0]} function ba(a){b[15]=b[a[0]]-1;l[0]|=32;C=!0}function ca(a){b[14]=b[15]+4|1;b[15]=a[0]}function da(a){b[15]=a[0]}function ea(a){e(l[0],30)||e(l[0],31)!==e(l[0],28)?(L(a[0]),b[15]=a[0]):(H(),b[15]+=2)}function fa(){}function ga(a){e(l[0],31)!==e(l[0],28)?(L(a[0]),b[15]=a[0]):(H(),b[15]+=2)}function ha(){}function ia(){}function ja(){}function ka(){}function la(){}function ma(){}function na(){}function oa(){}function pa(a){e(l[0],29)?(a[0]<b[15]&&a[0]>b[15]-20&&B++,b[15]=a[0]):(0<B&&(B=-1),b[15]+=2)} function qa(a){e(l[0],30)?(H(),b[15]+=2):(L(a[0]),b[15]=a[0])}function ra(a){b[15]=e(l[0],30)?a[0]:b[15]+2}function sa(a){for(var g=0;8>g;g++)e(a[1],g)&&(b[g]=w(b[a[0]],4),b[a[0]]+=4);b[15]+=2}function ta(a){for(var g=0;8>g;g++)e(a[1],g)&&w(b[a[0]],4,b[g]);b[a[0]]+=4;b[15]+=2}function ua(a){for(var g=0;8>g;g++)e(a[0],g)&&(b[g]=w(b[13],4),b[13]+=4);a[1]&&(w(b[13],4,b[14]),b[13]+=4);b[15]+=2}function va(a){a[1]&&(b[13]-=4,w(b[13],4,b[14]));for(var g=7;0<=g;g--)e(a[0],g)&&(b[13]-=4,w(b[13],4,b[g])); b[15]+=2}function wa(a){b[13]+=a[0];b[15]+=2}function xa(a){b[a[0]]=w(b[13]+a[1],4);b[15]+=2}function ya(a){w(b[13]+a[1],4,b[a[0]]);b[15]+=2}function za(){}function Aa(a){w(b[a[1]]+a[2],2,b[a[0]]);b[15]+=2}function Ba(){}function Ca(){}function Da(a){b[a[0]]=w(b[a[1]]+a[2],4);b[15]+=2}function Ea(a){w(b[a[1]]+a[2],4,b[a[0]]);b[15]+=2}function Fa(a){w(b[a[1]]+b[a[2]],2,b[a[0]]);b[15]+=2}function Ga(){}function Ha(){}function Ia(a){b[a[0]]=a[1];b[15]+=2}function Ja(a){b[15]=b[a[0]]-1}function Ka(){b[15]+= 2}function La(a){b[a[0]]=b[a[1]];b[15]+=2}function Ma(a){b[a[0]]+=b[a[1]];b[15]+=2}function Na(a){b[a[0]]&=4294967295-b[a[1]];p(a[0]);q(a[0]);b[15]+=2}function Oa(a){b[a[0]]*=b[a[1]];p(a[0]);q(a[0]);b[15]+=2}function Pa(a){b[a[0]]|=b[a[1]];p(a[0]);q(a[0]);b[15]+=2}function Qa(a){a=b[16]=b[a[0]]-b[a[1]];t(16,a,!0);p(16);q(16);b[15]+=2}function Ra(a){var g=b[a[0]]=4294967295-b[a[1]]+1;t(a[0],g);p(a[0]);q(a[0]);b[15]+=2}function Sa(a){var g=b[a[0]]-=a[1];t(b[a[0]],g,!0);p(a[0]);q(a[0]);b[15]+=2}function Ta(a){var g= b[a[0]]+=a[1];t(a[0],g);p(a[0]);q(a[0]);b[15]+=2}function Ua(a){a=b[16]=b[a[0]]-a[1];t(b[16],a);p(16);q(16);b[15]+=2}function Va(a){b[a[0]]=a[1];p(a[0]);q(a[0]);b[15]+=2}function Wa(a){var g=b[a[0]]=b[a[1]];t(a[0],g);p(a[0]);q(a[0]);b[15]+=2}function Xa(a){var g=b[a[0]]=b[a[1]]-a[2];t(b[a[0]],g,!0);p(a[0]);q(a[0]);b[15]+=2}function Ya(a){var g=b[a[0]]=b[a[1]]+a[2];t(a[0],g);p(a[0]);q(a[0]);b[15]+=2}function Za(a){var g=b[a[0]]=b[a[1]]-b[a[2]];t(a[0],g,!0);p(a[0]);q(a[0]);b[15]+=2}function $a(a){var g= b[a[0]]=b[a[1]]+b[a[2]];t(a[0],g);p(a[0]);q(a[0]);b[15]+=2}function ab(a){var g=b[a[0]]=b[a[1]]>>a[2];t(a[0],g);p(a[0]);q(a[0]);b[15]+=2}function bb(a){var g=b[a[0]]=Math.floor(b[a[1]]/Math.pow(2,a[2]));t(a[0],g);p(a[0]);q(a[0]);b[15]+=2}function cb(a){var g=b[a[0]]=b[a[1]]*Math.pow(2,a[2]);a[2]&&t(a[0],g);p(a[0]);q(a[0]);b[15]+=2}function M(a){return a<b[15]?" ;&uarr;":a>b[15]?" ;&darr;":" ;&larr;"}function I(a){var g,h,f,l,m,A,p,s,y,q,n,t,r,v;g=b[15]+4;c[a]="?";h=D[8][a];f=e(h,8,15);l=e(h,10,15); m=e(h,11,15);A=e(h,12,15);p=e(h,13,15);s=e(h,0,2);y=e(h,3,5);q=e(h,3,5);n=e(h,0,7);t=e(h,6,10);r=e(h,6,8);v=e(h,8,10);if(0===p)(f=e(h,11,12),3===f)?(f=e(h,9,10),2!==f||r)?0===f?(k[a]=$a,d[a]=[s,y,r],c[a]="ADD r"+d[a][0]+",r"+d[a][1]+",r"+d[a][2]):1===f?(k[a]=Za,d[a]=[s,y,r],c[a]="SUB r"+d[a][0]+",r"+d[a][1]+",r"+d[a][2]):2===f?(k[a]=Ya,d[a]=[s,y,r],c[a]="ADD r"+d[a][0]+",r"+d[a][1]+",#0x"+x(d[a][2])):3===f&&(k[a]=Xa,d[a]=[s,y,r],c[a]="SUB r"+d[a][0]+",r"+d[a][1]+",#0x"+x(d[a][2])):(k[a]=Wa,d[a]=[s, y],c[a]="MOV r"+d[a][0]+",r"+d[a][1]):(d[a]=[s,y,t],0===f?(k[a]=cb,c[a]="LSL"):1===f?(k[a]=bb,c[a]="LSR"):2===f&&(k[a]=ab,c[a]="ASR"),c[a]+=" r"+d[a][0]+",r"+d[a][1]+",#0x"+x(d[a][2]));else if(1===p)f=e(h,11,12),d[a]=[v,n],0===f?(k[a]=Va,c[a]="MOV"):1===f?(k[a]=Ua,c[a]="CMP"):2===f?(k[a]=Ta,c[a]="ADD"):3===f&&(k[a]=Sa,c[a]="SUB"),c[a]+=" r"+d[a][0]+",#0x"+x(d[a][1]);else if(16===l)f=e(h,6,9),d[a]=[s,y],0===f&&(k[a]=thumb_and_rr,c[a]="AND"),8===f&&(k[a]=thumb_tst_rr,c[a]="TST"),9===f&&(k[a]=Ra,c[a]= "NEG"),10===f&&(k[a]=Qa,c[a]="CMP"),12===f&&(k[a]=Pa,c[a]="ORR"),13===f&&(k[a]=Oa,c[a]="MUL"),14===f&&(k[a]=Na,c[a]="BIC"),c[a]+=" r"+d[a][0]+",r"+d[a][1];else if(17===l)f=e(h,8,9),s=e(h,7)*Math.pow(2,3)+s,y=e(h,6)*Math.pow(2,3)+y,0===f?(k[a]=Ma,d[a]=[s,y],c[a]="ADD r"+d[a][0]+",r"+d[a][1]):2===f?8===s&&8===y?(k[a]=Ka,d[a]=[],c[a]="NOP"):(k[a]=La,d[a]=[s,y],c[a]="MOV r"+d[a][0]+",r"+d[a][1]):3===f&&(k[a]=Ja,d[a]=[y],c[a]="BX r"+d[a][0]);else if(9===m)k[a]=Ia,d[a]=[v,w((g&4294967292)+4*n,4)],c[a]= "LDR r"+d[a][0]+",=#0x"+x(d[a][1]);else if(5===A)f=e(h,10,11),d[a]=[s,q,r],e(h,9)?0===f&&(k[a]=Fa,c[a]="STRH"):0===f?(k[a]=Ha,c[a]="STR"):1!==f&&2!==f&&3===f&&(k[a]=Ga,c[a]="LDRB"),c[a]+=" r"+d[a][0]+",[r"+d[a][1]+",r"+d[a][2]+"]";else if(3===p)f=e(h,11,12),d[a]=[s,q,t],0===f?(k[a]=Ea,c[a]="STR"):1===f?(k[a]=Da,c[a]="LDR"):2===f?(k[a]=Ca,c[a]="STRB"):3===f&&(k[a]=Ba,c[a]="LDRB"),1<f&&(d[a][2]*=4),c[a]+=" r"+d[a][0]+",[r"+d[a][1]+(d[a][2]?",#0x"+x(d[a][2]):"")+"]";else if(8===A)f=e(h,11),d[a]=[s,q, t],0===f?(k[a]=Aa,c[a]="STRH"):1===f&&(k[a]=za,c[a]="LDRH"),c[a]+=" r"+d[a][0]+",[r"+d[a][1]+(d[a][2]?",#0x"+x(d[a][2]):"")+"]";else if(9===A)d[a]=[v,4*n],e(h,11)?(k[a]=xa,c[a]="LDR"):(k[a]=ya,c[a]="STR"),c[a]+=" r"+d[a][0]+",[SP"+(d[a][1]?",#0x"+x(d[a][1]):"")+"]";else if(10!==A)if(176===f)nn=4*e(h,0,6),1===e(h,7)&&(nn=-nn),k[a]=wa,d[a]=[nn],c[a]="ADD SP,"+(0>d[a][0]?"-":"")+"#0x"+x(Math.abs(d[a][0]));else if(190!==f)if(11===A){f=e(h,11);d[a]=[n,e(h,8)];f?(k[a]=ua,c[a]="POP"):(k[a]=va,c[a]="PUSH"); c[a]+=" {";for(g=0;8>g;g++)e(d[a][0],g)&&(c[a]+="r"+g+",");d[a][1]&&(c[a]+=f?"r13,":"r14,");c[a]=c[a].slice(0,-1)+"}"}else if(12===A){f=e(h,11);d[a]=[v,n];0===f?(k[a]=ta,c[a]="STMIA"):1===f&&(k[a]=sa,c[a]="LDMIA");c[a]+=" r"+d[a][0]+"!,{";for(g=0;8>g;g++)e(d[a][1],g)&&(c[a]+="r"+g+",");c[a]=c[a].slice(0,-1)+"}"}else 223!==f&&(13===A||28===m?(c[a]="B",n*=2,254<n&&(n-=512),d[a]=[g+n],28===m?k[a]=da:(g=e(h,8,11),k[a]=[ra,qa,pa,oa,na,ma,la,ka,ja,ia,ha,ga,fa,ea][g],c[a]+=O[g]),c[a]+=" 0x"+x(d[a][0]),c[a]+= M(d[a][0])):30===m&&(instr2=w(b[15]+2,2),f=e(instr2,11,15),h=e(h,0,10)*Math.pow(2,12)+e(instr2,0,10)*Math.pow(2,1),4194304<h&&(h-=8388608),d[a]=[g+h,g|1],31===f&&(k[a]=ca,c[a]="BL 0x"+x(d[a][0])+" ;&rarr;")));u&&(g=$("thumbvalue"+x(b[15])))&&(g.innerHTML=x(D[8][a],4),$("thumbname"+x(b[15])).innerHTML=c[a])}function E(a){var g,h,f,c,d,k,l,s,p,q;g=b[15]+8;n[a]="?";h=F[8][a];J[a]=e(h,28,31);f=O[J[a]];if(77823===e(h,8,27))c=e(h,4,7),1===c&&(r[a]=ba,m[a]=[e(h,0,3)],n[a]="BX"+f+" r"+m[a][0]),n[a]+=M(m[a][0]); else if(5===e(h,25,27))c=e(h,24),m[a]=[g+4*e(h,0,23)],r[a]=c?Z:aa,n[a]=(c?"BL":"B")+f+" 0x"+x(m[a][0]),n[a]+=c?" ;&rarr;":M(m[a][0]);else if(1===e(h,26,27))l=e(h,20),d=e(h,16,19),k=e(h,12,15),c=e(h,0,11),m[a]=15===d?[k,w(g+c,4)]:[k,d,c],l?(r[a]=15===d?Q:S,n[a]="LDR"):(r[a]=15===d?R:T,n[a]="STR"),n[a]+=f+" r"+m[a][0]+(15===d?",=#0x"+x(m[a][1]):",[r"+m[a][1]+",0x"+x(m[a][2])+"]");else if(e(h,25,27)||e(h,7)||15==e(h,12,15))if(c=e(h,21,24),d=e(h,16,19),k=e(h,12,15),p=e(h,19),q=e(h,16),l=e(h,22),s=0,!e(h, 18)&&8<=c&&11>=c){if(c=e(h,21))p&&(s+=4278190080),q&&(s+=255),m[a]=[e(h,0,3),s],r[a]=l?U:V,n[a]="MSR"+f+(l?" spsr_ ":" cpsr_")+(p?"f":"")+(q?"c":"")+",r"+m[a][0]}else switch(f=0,e(h,25)&&(is=2*e(h,8,11),c=e(h,0,7),f=is,f=(c&Math.pow(2,f)-1)*Math.pow(2,32-f)+Math.floor(c/Math.pow(2,f))),e(h,21,24)){case 4:15===d?(r[a]=X,m[a]=[k,g+f],n[a]="ADD r"+m[a][0]+",=#0x"+x(m[a][1])):(r[a]=Y,m[a]=[k,d,f],n[a]="ADD r"+m[a][0]+",r"+m[a][1]+",0x"+x(m[a][2]));break;case 13:r[a]=W,m[a]=[k,f],n[a]="MOV r"+m[a][0]+ ",#0x"+x(m[a][1])}else r[a]=null,m[a]=[],n[a]="ARM7";u&&(g=$("armvalue"+x(b[15])))&&(g.innerHTML=x(F[8][a],8),$("armname"+x(b[15])).innerHTML=n[a])}function w(a,b,c){var d,k,l;k=void 0!==c;1===b?l=P:2===b?l=D:4===b&&(l=F);d=Math.floor(a/Math.pow(2,24));8>d?a&=16777215:d=14<d?14:8;a%=db[d];if(6===d&&(98303<a&&131072>a&&(a-=8E3),k)){var m=a,n,p,q,r,t,u;n=8*e(c,0,4);p=8*e(c,5,9);q=8*e(c,10,14);4==b&&(r=8*e(c,0,4),t=8*e(c,5,9),u=8*e(c,10,14));v[0].data[2*m]=n;v[0].data[2*m+1]=p;v[0].data[2*m+2]=q;v[0].data[2* m+3]=255;4==b&&(v[0].data[2*m+4]=r,v[0].data[2*m+5]=t,v[0].data[2*m+6]=u,v[0].data[2*m+7]=255)}if(k)l[d][a/b]=c;else return l[d][a/b]||0}function t(a,c,d){d&&0<c&&c!=b[a]||d&&!c&&!b[a]||!d&&c!=b[a]?(l[0]|=536870912,u&&($("flagc").checked=!0)):(l[0]&=3758096383,u&&($("flagc").checked=!1))}function q(a){0===b[a]?(l[0]|=1073741824,u&&($("flagz").checked=!0)):(l[0]&=3221225471,u&&($("flagz").checked=!1))}function p(a){1===e(b[a],31)?(l[0]|=2147483648,u&&($("flagn").checked=!0)):(l[0]&=2147483647,u&&($("flagn").checked= !1))}function N(){var a;u&&(document.getElementsByClassName("highlight")[0].className="");a=C?$("thumb"+x(b[15])):$("arm"+x(b[15]));a.className="highlight";a.parentNode.scrollTop=a.offsetTop-100;for(z=0;16>=z;z++)$("r"+z).innerHTML=x(b[z],8);$("cpsr").innerHTML=x(l[0],8);$("spsr").innerHTML=x(eb[0],8);$("flagn").checked=!!e(l[0],31);$("flagz").checked=!!e(l[0],30);$("flagc").checked=!!e(l[0],29);$("flagv").checked=!!e(l[0],28);$("flagi").checked=!!e(l[0],7);$("flagf").checked=!!e(l[0],6);$("flagt").checked= !!e(l[0],5);$("flagq").checked=!!e(l[0],27)}var u=!1;$=function(a){return document.getElementById(a)};for(var K=[],v=[],z=0;4>z;z++)K.push($("canvas"+z).getContext("2d")),v.push(K[z].createImageData(240,160));var b=new Uint32Array(new ArrayBuffer(68));b[13]=50364160;b[15]=134217728;var l=new Uint32Array(new ArrayBuffer(4)),eb=new Uint32Array(new ArrayBuffer(4)),C=0,G=[,,new ArrayBuffer(262144),new ArrayBuffer(32768),new ArrayBuffer(1024),new ArrayBuffer(1024),new ArrayBuffer(98304),new ArrayBuffer(1024), ,,,,,,new ArrayBuffer(65536)],db=[,,262144,32768,,1024,131072,1024,33554432,,,,,,16777216],P=[],D=[],F=[];load=function(a,b){var c,d;d=new XMLHttpRequest;d.open("GET",a);d.responseType="arraybuffer";d.send();d.onload=function(){G[8]=d.response;for(c=0;16>c;c++)G[c]&&(P[c]=new Uint8Array(G[c]),D[c]=new Uint16Array(G[c]),F[c]=new Uint32Array(G[c]));E(0);b&&b()}};var r=[],m=[],n=[],J=[],k=[],d=[],c=[],O="EQ NE CS CC MI PL VS VC HI LS GE LT GT LE NV".split(" ");convert_all=function(){var a,c;c=b[15]; for(a=0;a<F[8].length;a++)b[15]=134217728+4*a,E(a);for(a=0;a<D[8].length;a++)b[15]=134217728+2*a,I(a);b[15]=c};trace=function(){var a;a=b[15]%33554432;C?(a/=2,k[a](d[a])):(a/=4,r[a](m[a],J[a]));u&&(N(),K[0].putImageData(v[0],0,0));a=b[15]-134217728;C?(a/=2,k[a]||I(a)):(a/=4,r[a]||E(a))};play=function(){for(var a,c;c!=b[15];)c=b[15],a=b[15]%33554432,C?(a/=2,k[a]||I(a),k[a](d[a])):(a/=4,r[a]||E(a),r[a](m[a],J[a]));u&&N();K[0].putImageData(v[0],0,0)};x=function(a,b){return((b?"0000000":"")+a.toString(16).toUpperCase()).slice(-b)}; var B=-1;end_current_loop=function(){var a;a=u;for(u=!1;-1<B;)trace();H();u=a;a=b[15]%33554432;C?I(a/2):(a/=4,E(a));u&&N()}})();